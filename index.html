<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mankhush Home Delights</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">

<style>
body{margin:0;font-family:'Poppins',sans-serif;background:#fff7f0}
header{background:#ff6b00;color:#fff;text-align:center;padding:18px}
header h1{margin:0;font-size:20px}
header p{margin:4px 0;font-size:13px}

.menu{
display:grid;
grid-template-columns:repeat(2,1fr);
gap:12px;
padding:12px;
max-width:850px;
margin:auto;
}

.category{
grid-column:1/-1;
color:#ff6b00;
font-weight:600;
margin-top:15px;
}

.card{
background:#fff;
border-radius:10px;
box-shadow:0 2px 6px rgba(0,0,0,.1);
padding:8px;
text-align:center;
}

.card img{
width:100%;
height:110px;
object-fit:cover;
border-radius:8px;
}

.card h3{margin:6px 0 2px;font-size:14px}
.card p{margin:0;font-size:12px}

button.addBtn{
margin-top:6px;
padding:6px 10px;
border:none;
border-radius:6px;
background:#ff6b00;
color:#fff;
cursor:pointer;
font-size:12px;
}

.cart-btn{
position:fixed;
bottom:15px;
right:15px;
background:#ff6b00;
color:#fff;
padding:10px 18px;
border-radius:25px;
cursor:pointer;
font-weight:500;
}

.cart{
position:fixed;
bottom:70px;
right:15px;
width:95%;
max-width:380px;
max-height:70vh;
background:#fff;
border-radius:12px;
box-shadow:0 2px 12px rgba(0,0,0,.3);
padding:15px;
overflow:auto;
display:none;
}

.cart.open{display:block}

.cart-header{
display:flex;
justify-content:space-between;
align-items:center;
}

.cart-item{
border-bottom:1px solid #eee;
padding:6px 0;
font-size:13px;
}

.qty-controls{
display:flex;
gap:8px;
align-items:center;
margin-top:4px;
}

.qty-controls button{
width:26px;
height:26px;
border:none;
border-radius:4px;
background:#ff6b00;
color:#fff;
cursor:pointer;
}

button.action{
width:100%;
margin-top:8px;
padding:8px;
border:none;
border-radius:8px;
background:#ff6b00;
color:#fff;
cursor:pointer;
font-size:13px;
}

button.secondary{
background:#999;
}

.small{font-size:11px;color:#666}
</style>
</head>

<body>

<header>
<h1>Mankhush Home Delights</h1>
<p>Pure Veg Banarasi Taste</p>
<p>By Shivangi Srivastava</p>
<p>Please give 1 day advance order.</p>
<p>Delivery charges extra as per actual Courier Charges.</p>
</header>

<div class="menu">

<div class="category">Snacks</div>

<div class="card">
<img src="katorichaat.jpg">
<h3>Special Katori Chaat</h3>
<p>â‚¹200 / Piece<br><span class="small">Min 10 pieces</span></p>
<button class="addBtn" onclick="addItem('Katori Chaat',200,10)">Add</button>
</div>

<div class="card">
<img src="dahibhalle.jpg">
<h3>Dahi Bhalle</h3>
<p>â‚¹175 / Plate<br><span class="small">Min 5 plates</span></p>
<button class="addBtn" onclick="addItem('Dahi Bhalle',175,5)">Add</button>
</div>

<div class="category">Main Course</div>

<div class="card">
<img src="palakpaneer.jpg">
<h3>Palak Paneer</h3>
<p>â‚¹200 / Plate<br><span class="small">Min 5 plates</span></p>
<button class="addBtn" onclick="addItem('Palak Paneer',200,5)">Add</button>
</div>

<div class="card">
<img src="daalbaatichurma.jpg">
<h3>Daal Baati Churma</h3>
<p>â‚¹300 / Plate<br><span class="small">Min 5 plates</span></p>
<button class="addBtn" onclick="addItem('Daal Baati Churma',300,5)">Add</button>
</div>

<div class="category">Beverages</div>

<div class="card">
<img src="thandai.jpg">
<h3>Banarasi Thandai</h3>
<p>â‚¹100 / Glass<br><span class="small">Min 5 glasses</span></p>
<button class="addBtn" onclick="addItem('Thandai',100,5)">Add</button>
</div>

<div class="card">
<img src="https://images.unsplash.com/photo-1511920170033-f8396924c348?auto=format&fit=crop&w=600&q=80">
<h3>Banarasi Tea</h3>
<p>â‚¹25 / Glass<br><span class="small">Min 4 glasses</span></p>
<button class="addBtn" onclick="addItem('Banarasi Tea',25,4)">Add</button>
</div>

</div>

<div class="cart-btn" onclick="toggleCart()">ðŸ›’ Cart (0)</div>

<div class="cart" id="cartBox">
<div class="cart-header">
<h3>Order Summary</h3>
<button onclick="toggleCart()">âˆ’</button>
</div>

<div id="cartItems"></div>
<strong>Total â‚¹ <span id="total">0</span></strong>

<button class="action" onclick="downloadInvoice()">Download Invoice</button>
<button class="action" onclick="sendWhatsApp()">Send on WhatsApp</button>
<button class="action secondary" onclick="clearCart()">Clear Cart</button>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<script>
let cart = {};
let invoiceGenerating = false;   // prevents double download

function addItem(name,price,minQty){
if(!cart[name]) cart[name]={price:price,qty:0,min:minQty};
cart[name].qty+=minQty;
updateCart();
document.getElementById("cartBox").classList.add("open");
}

function increaseQty(name){
cart[name].qty+=cart[name].min;
updateCart();
}

function decreaseQty(name){
cart[name].qty-=cart[name].min;
if(cart[name].qty<=0) delete cart[name];
updateCart();
}

function removeItem(name){
delete cart[name];
updateCart();
}

function clearCart(){
cart={};
updateCart();
}

function updateCart(){
const div=document.getElementById("cartItems");
const totalEl=document.getElementById("total");
const btn=document.querySelector(".cart-btn");

div.innerHTML="";
let total=0,count=0;

for(let item in cart){
let amt=cart[item].qty*cart[item].price;
total+=amt;
count++;

div.innerHTML+=`
<div class="cart-item">
<strong>${item}</strong>
<div class="qty-controls">
<button onclick="decreaseQty('${item}')">âˆ’</button>
<span>${cart[item].qty}</span>
<button onclick="increaseQty('${item}')">+</button>
<button onclick="removeItem('${item}')">Remove</button>
</div>
<span>â‚¹${amt}</span>
</div>`;
}

if(count===0) div.innerHTML="<p class='small'>Cart is empty</p>";
totalEl.innerText=total;
btn.innerText="ðŸ›’ Cart ("+count+")";
}

function toggleCart(){
document.getElementById("cartBox").classList.toggle("open");
}

function sendWhatsApp(){
if(Object.keys(cart).length===0){alert("Cart is empty");return;}
let msg="Mankhush Home Delights Order\n\n";
let total=0;
for(let item in cart){
let amt=cart[item].qty*cart[item].price;
total+=amt;
msg+=`${item} - ${cart[item].qty} - â‚¹${amt}\n`;
}
msg+=`\nTotal: â‚¹${total}\nDelivery charges extra as per actual Courier Charges.`;
window.open("https://wa.me/918209520964?text="+encodeURIComponent(msg),"_blank");
}

function downloadInvoice(){

if(invoiceGenerating) return;   // prevents double trigger
invoiceGenerating = true;

if(Object.keys(cart).length===0){
alert("Cart is empty");
invoiceGenerating = false;
return;
}

const { jsPDF } = window.jspdf;
const doc = new jsPDF();

let y = 20;
let total = 0;

doc.setFontSize(16);
doc.text("Mankhush Home Delights", 20, 10);

doc.setFontSize(12);

for(let item in cart){
let amt = cart[item].qty * cart[item].price;
total += amt;
doc.text(`${item}  |  Qty: ${cart[item].qty}  |  â‚¹${amt}`, 20, y);
y += 8;
}

y += 5;
doc.setFontSize(14);
doc.text(`Total: â‚¹${total}`, 20, y);

doc.save("Mankhush_Invoice.pdf");

setTimeout(()=>{ invoiceGenerating = false; }, 1000);
}
</script>


</body>
</html>
